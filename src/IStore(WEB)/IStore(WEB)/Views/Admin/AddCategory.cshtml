@model Domain.EF_Models.Category


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script>

        $(function () {

            $(".saveCategory").click(function () {

                var title = $(".categoryTitle").val();

                var formData = new FormData();
                formData.append('file', $('.categoryPreviewImage')[0].files[0]);
                formData.append('category', title);

                $.ajax({
                type: "POST",
                url: "/admin/SaveCategory",
                data: formData,
                processData: false, 
                contentType: false,
                //dataType:"json",

                    success: function (data) {

                        $('.category').empty();

                        $.each(data, function (index, value) {
                             $('.category').append("<option>"+value+"</option>");
                        });                     
                    }
                });
            });
        });


    </script>


<div class="row">
    <div class="col-md-4">

        @Html.Label("Title")
        @Html.Editor("editor", new { htmlAttributes = new { @class = "categoryTitle"} })

        @Html.Label("Preview image")
        @Html.Editor("editor", new { htmlAttributes = new { @class = "categoryPreviewImage", @type = "file", @accept = ".png" } })
        <img class="CayegoryPreviewImageView" />

        <button class="saveCategory">Save</button>

        @*<form asp-action="AddCategory">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Id" class="control-label"></label>
                <input asp-for="Id" class="form-control" />
                <span asp-validation-for="Id" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Title" class="control-label"></label>
                <input name="Title" asp-for="Title" class="form-control" />
                <span asp-validation-for="Title" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="PreviewImage" class="control-label"></label>
                <input asp-for="PreviewImage" class="form-control" />
                <span asp-validation-for="PreviewImage" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Create" class="btn btn-default" />
            </div>
        </form>*@
    </div>
</div>

@*<div>
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}*@
